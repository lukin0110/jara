(function(e){function n(e){return typeof e=="object"?e:{top:e,left:e}}var t=e.scrollTo=function(t,n,r){e(window).scrollTo(t,n,r)};t.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},t.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||r.compatMode=="BackCompat"?r.body:r.documentElement})},e.fn.scrollTo=function(r,i,s){return typeof i=="object"&&(s=i,i=0),typeof s=="function"&&(s={onAfter:s}),r=="max"&&(r=9e9),s=e.extend({},t.defaults,s),i=i||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(i/=2),s.offset=n(s.offset),s.over=n(s.over),this._scrollable().each(function(){function d(e){u.animate(c,i,s.easing,e&&function(){e.call(this,r,s)})}if(r==null)return;var o=this,u=e(o),a=r,l,c={},p=u.is("html,body");switch(typeof a){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(a)){a=n(a);break}a=e(a,this);if(!a.length)return;case"object":if(a.is||a.style)l=(a=e(a)).offset()}e.each(s.axis.split(""),function(e,n){var r=n=="x"?"Left":"Top",i=r.toLowerCase(),f="scroll"+r,v=o[f],m=t.max(o,n);if(l)c[f]=l[i]+(p?0:v-u.offset()[i]),s.margin&&(c[f]-=parseInt(a.css("margin"+r))||0,c[f]-=parseInt(a.css("border"+r+"Width"))||0),c[f]+=s.offset[i]||0,s.over[i]&&(c[f]+=a[n=="x"?"width":"height"]()*s.over[i]);else{var y=a[i];c[f]=y.slice&&y.slice(-1)=="%"?parseFloat(y)/100*m:y}s.limit&&/^\d+$/.test(c[f])&&(c[f]=c[f]<=0?0:Math.min(c[f],m)),!e&&s.queue&&(v!=c[f]&&d(s.onAfterFirst),delete c[f])}),d(s.onAfter)}).end()},t.max=function(t,n){var r=n=="x"?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var s="client"+r,o=t.ownerDocument.documentElement,u=t.ownerDocument.body;return Math.max(o[i],u[i])-Math.min(o[s],u[s])}})(jQuery);
(function(e){var t=e(window),n=t.height();t.resize(function(){n=t.height()}),e.fn.parallax=function(r,i,s){function l(){var s=t.scrollTop();o.each(function(){var t=e(this),f=t.offset().top,l=u(t);if(f+l<s||f>s+n)return;o.css("backgroundPosition",r+" "+Math.round((a-s)*i)+"px")})}var o=e(this),u,a,f=0;o.each(function(){a=o.offset().top}),s?u=function(e){return e.outerHeight(!0)}:u=function(e){return e.height()};if(arguments.length<1||r===null)r="50%";if(arguments.length<2||i===null)i=.1;if(arguments.length<3||s===null)s=!0;t.bind("scroll",l).resize(l),l()}})(jQuery);
(function(e){e.fn.slides=function(t){return t=e.extend({},e.fn.slides.option,t),this.each(function(){function n(n,r,i){if(!o&&s){switch(o=!0,t.animationStart(N+1),n){case"next":x=N,S=N+1,S=v===S?0:S,f=2*m,n=2*-m,N=S;break;case"prev":x=N,S=N-1,S=-1===S?v-1:S,f=0,n=0,N=S;break;case"pagination":S=parseInt(i,10),x=e("."+t.paginationClass+" li."+t.currentClass+" a",p).attr("href").match("[^#/]+$"),S>x?(f=2*m,n=2*-m):(f=0,n=0),N=S}"fade"===r?t.crossfade?d.children(":eq("+S+")",p).css({zIndex:10}).fadeIn(t.fadeSpeed,t.fadeEasing,function(){t.autoHeight?d.animate({height:d.children(":eq("+S+")",p).outerHeight()},t.autoHeightSpeed,function(){d.children(":eq("+x+")",p).css({display:"none",zIndex:0}),d.children(":eq("+S+")",p).css({zIndex:0}),t.animationComplete(S+1),o=!1}):(d.children(":eq("+x+")",p).css({display:"none",zIndex:0}),d.children(":eq("+S+")",p).css({zIndex:0}),t.animationComplete(S+1),o=!1)}):d.children(":eq("+x+")",p).fadeOut(t.fadeSpeed,t.fadeEasing,function(){t.autoHeight?d.animate({height:d.children(":eq("+S+")",p).outerHeight()},t.autoHeightSpeed,function(){d.children(":eq("+S+")",p).fadeIn(t.fadeSpeed,t.fadeEasing)}):d.children(":eq("+S+")",p).fadeIn(t.fadeSpeed,t.fadeEasing,function(){}),t.animationComplete(S+1),o=!1}):(d.children(":eq("+S+")").css({left:f,display:"block"}),t.autoHeight?d.animate({left:n,height:d.children(":eq("+S+")").outerHeight()},t.slideSpeed,t.slideEasing,function(){d.css({left:-m}),d.children(":eq("+S+")").css({left:m,zIndex:5}),d.children(":eq("+x+")").css({left:m,display:"none",zIndex:0}),t.animationComplete(S+1),o=!1}):d.animate({left:n},t.slideSpeed,t.slideEasing,function(){d.css({left:-m}),d.children(":eq("+S+")").css({left:m,zIndex:5}),d.children(":eq("+x+")").css({left:m,display:"none",zIndex:0}),t.animationComplete(S+1),o=!1})),t.pagination&&(e("."+t.paginationClass+" li."+t.currentClass,p).removeClass(t.currentClass),e("."+t.paginationClass+" li:eq("+S+")",p).addClass(t.currentClass))}}function r(){clearInterval(p.data("interval"))}function i(){t.pause?(clearTimeout(p.data("pause")),clearInterval(p.data("interval")),c=setTimeout(function(){clearTimeout(p.data("pause")),h=setInterval(function(){n("next",w)},t.play),p.data("interval",h)},t.pause),p.data("pause",c)):r()}e("."+t.container,e(this)).children().wrapAll('<div class="slides_control"/>');var s,o,u,f,l,c,h,p=e(this),d=e(".slides_control",p),v=d.children().size(),m=d.children().outerWidth(),g=d.children().outerHeight(),y=t.start-1,w=0>t.effect.indexOf(",")?t.effect:t.effect.replace(" ","").split(",")[0],E=0>t.effect.indexOf(",")?w:t.effect.replace(" ","").split(",")[1],S=0,x=0,T=0,N=0;if(2>v)return e("."+t.container,e(this)).fadeIn(t.fadeSpeed,t.fadeEasing,function(){s=!0,t.slidesLoaded()}),e("."+t.next+", ."+t.prev).fadeOut(0),!1;if(!(2>v)){if(0>y&&(y=0),y>v&&(y=v-1),t.start&&(N=y),t.randomize&&d.randomize(),e("."+t.container,p).css({overflow:"hidden",position:"relative"}),d.children().css({position:"absolute",top:0,left:d.children().outerWidth(),zIndex:0,display:"none"}),d.css({position:"relative",width:3*m,height:g,left:-m}),e("."+t.container,p).css({display:"block"}),t.autoHeight&&(d.children().css({height:"auto"}),d.animate({height:d.children(":eq("+y+")").outerHeight()},t.autoHeightSpeed)),t.preload&&d.find("img:eq("+y+")").length){e("."+t.container,p).css({background:"url("+t.preloadImage+") no-repeat 50% 50%"});var C=d.find("img:eq("+y+")").attr("src")+"?"+(new Date).getTime();l="slides_control"!=e("img",p).parent().attr("class")?d.children(":eq(0)")[0].tagName.toLowerCase():d.find("img:eq("+y+")"),d.find("img:eq("+y+")").attr("src",C).load(function(){d.find(l+":eq("+y+")").fadeIn(t.fadeSpeed,t.fadeEasing,function(){e(this).css({zIndex:5}),e("."+t.container,p).css({background:""}),s=!0,t.slidesLoaded()})})}else d.children(":eq("+y+")").fadeIn(t.fadeSpeed,t.fadeEasing,function(){s=!0,t.slidesLoaded()});t.bigTarget&&(d.children().css({cursor:"pointer"}),d.children().on("click",function(){return n("next",w),!1})),t.hoverPause&&t.play&&(d.bind("mouseover",function(){r()}),d.bind("mouseleave",function(){i()})),t.generateNextPrev&&(e("."+t.container,p).after('<a href="#" class="'+t.prev+'">Prev</a>'),e("."+t.prev,p).after('<a href="#" class="'+t.next+'">Next</a>')),e("."+t.next,p).on("click",function(e){e.preventDefault(),t.play&&i(),n("next",w)}),e("."+t.prev,p).on("click",function(e){e.preventDefault(),t.play&&i(),n("prev",w)}),t.generatePagination?(t.prependPagination?p.prepend("<ul class="+t.paginationClass+"></ul>"):p.append("<ul class="+t.paginationClass+"></ul>"),d.children().each(function(){e("."+t.paginationClass,p).append('<li><a href="#'+T+'">'+(T+1)+"</a></li>"),T++})):e("."+t.paginationClass+" li a",p).each(function(){e(this).attr("href","#"+T),T++}),e("."+t.paginationClass+" li:eq("+y+")",p).addClass(t.currentClass),e("."+t.paginationClass+" li a",p).on("click",function(){return t.play&&i(),u=e(this).attr("href").match("[^#/]+$"),N!=u&&n("pagination",E,u),!1}),e("a.link",p).on("click",function(){return t.play&&i(),u=e(this).attr("href").match("[^#/]+$")-1,N!=u&&n("pagination",E,u),!1}),t.play&&(h=setInterval(function(){n("next",w)},t.play),p.data("interval",h))}})},e.fn.slides.option={preload:!1,preloadImage:"/img/loading.gif",container:"slides_container",generateNextPrev:!1,next:"next",prev:"prev",pagination:!0,generatePagination:!0,prependPagination:!1,paginationClass:"pagination",currentClass:"current",fadeSpeed:350,fadeEasing:"",slideSpeed:350,slideEasing:"",start:1,effect:"slide",crossfade:!1,randomize:!1,play:0,pause:0,hoverPause:!1,autoHeight:!1,autoHeightSpeed:350,bigTarget:!1,animationStart:function(){},animationComplete:function(){},slidesLoaded:function(){}},e.fn.randomize=function(t){function n(){return Math.round(Math.random())-.5}return e(this).each(function(){var r=e(this),s=r.children(),o=s.length;if(o>1){s.hide();var u=[];for(i=0;o>i;i++)u[u.length]=i;u=u.sort(n),e.each(u,function(e,n){var i=s.eq(n),o=i.clone(!0);o.show().appendTo(r),void 0!==t&&t(i,o),i.remove()})}})}})(jQuery);
(function(e){function i(){e("#welcome").css("height",e(window).height()),e("#welcome").css("visibility","visible")}function s(t){var n=e(window).height(),r=e("#"+t).outerHeight();if(r>n||"photos"===t)return 70;var i=Math.floor((n-r-33)/2);return i<70?70:i}function o(){var t=function(t){var n=e(this).attr("data-scroll");e("#header a").removeClass("active"),e("#header a[data-scroll="+n+"]").addClass("active"),t.preventDefault(),e.scrollTo("#"+n,800,{offset:{left:0,top:-s(n)}})};e("[data-scroll]").click(t)}var t={},n={},r="https://graph.facebook.com/518915304826913/photos";n.init=function(){var t=function(t){var r=e("#slides > div"),i=t.data;for(var s=0;s<i.length;s++){var o=i[s],u=[],a=n.searchWidth(o,960);u[0]='<div><img src="',u[1]=a.source,u[2]='" width="',u[3]=a.width,u[4]='" height="',u[5]=a.height,u[6]='" alt=""/></div>',r.append(u.join(""))}e("#slides").show().slides({bigTarget:!0,play:4e3,pause:2500,hoverPause:!0,slideSpeed:800,pagination:!1,generatePagination:!1,preload:!0,preloadImage:"/img/loader.gif"})};e.getJSON(r,t)},n.searchWidth=function(e,t){var n=e.images;for(var r=0;r<n.length;r++){var i=n[r];if(i.width===t)return i}return null},t.init=function(){e("#p1").parallax("0%",.3),e("#p2").parallax("0%",.2),e("#p3").parallax("0%",.2),o(),i(),e(window).resize(i);var t=(new Date).getDay()%2+1,t=Math.floor(Math.random()*4+1);e("#welcome").addClass("var"+t),n.init()},t.moreSauce=function(t,n){return e(t).attr("shown")==="true"?(e("#moresauce").fadeOut(),e(t).attr("shown",!1)):(e("#moresauce").fadeIn(),e(t).attr("shown",!0)),n.preventDefault(),!1},window.Jara||(window.Jara=t)})(jQuery);
